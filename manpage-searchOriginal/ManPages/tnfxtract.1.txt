<beginning of page>
tnfxtract <-> extract kernel probes output into a trace file
tnfxtract [-d dumpfile -n namelist] tnf_file
The tnfxtract utility collects kernel trace output from an in-core buffer in the Solaris kernel, or from the memory
image of a crashed system, and generates a binary TNF trace file like those produced directly by user programs be<hy>
ing traced.
Either both or neither of the -d and -n options must be specified. If neither is specified, trace output is extracted from
the running kernel. If both are specified, the -d argument names the file containing the (crashed) system memory im<hy>
age, and the -n argument names the file containing the symbol table for the system memory image.
The TNF trace file tnf_file produced is exactly the same size as the in-core buffer; it is essentially a snapshot of that
buffer. It is legal to run tnfxtract while kernel tracing is active, i.e., while the in-core buffer is being written. tnfx<hy>
tract insures that the output file it generates is low-level consistent, that is, that only whole probes are written out,
and that internal data structures in the buffer are not corrupted because the buffer is being concurrently written.
The TNF trace file generated is suitable as input to tnfdump(1), which will generate an ASCII file.
The following options are supported:
-d dumpfile Uses dumpfile as the system memory image, instead of the running kernel. The dumpfile is normally the
path name of a file generated by the savecore utility.
-n namelist Uses namelist as the file containing the symbol table information for the given dumpfile.
The following operand is supported:
tnf_file Output file generated by tnfxtract based on kernel trace output from an in-core buffer in the Solaris kernel.
Example 1 Extracting probes from a running kernel
Extract probes from the running kernel into ktrace.out:
 example% tnfxtract ktrace.out
Example 2 Extracting probes from a kernel crash dump
Extract probes from a kernel crash dump into ktrace.out:
 example% tnfxtract -d /var/crash/`uname -n`/vmcore.0 \
  -n /var/crash/`uname -n`/unix.0 ktrace.out
The following exit values are returned:
0 Successful completion.
>0 An error occurred.
See attributes(5) for descriptions of the following attributes:
tab() box; cw(2.75i) |cw(2.75i) lw(2.75i) |lw(2.75i) ATTRIBUTE TYPEATTRIBUTE VALUE _ Availability<hy>
SUNWtnfc
<beginning of page>
prex(1), tnfdump(1), savecore(1M), tnf_kernel_probes(4), attributes(5)
